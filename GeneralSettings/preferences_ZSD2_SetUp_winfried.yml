# Describes parameters for pipeline experiment to measure hIPS cells
# Used by Python script MicroscopeAutomation.py to control different types of microscopes
#
# based on yaml specification Version 1.2
# http://www.yaml.org/spec/1.2/spec.html
#
#

# Author and version of this file
Info:
 Author: Winfried
 Date: 07/24/2019
 Version: 072419_1
 System: ZSD2
 Type: SetUp
 Note: Set up microscope and determine objective offset and centricity

# Workflow
# Dictionary with experiments.
# The experiments are defined below and can have free defined names. They will call a function that is defined in the software.
# Repetitions defines how often this experiment will be repeated. That allow e.g. a time lapse experiment that images 10 cells and than returns to the first one.
# Input is the name of the dictionary with objects that will be imaged (typically created in an earlier experiment)
# Output defines the new dictionary created in this experiment.
# Output is a dictionary with a name (key) and the type of the detected object (Colony, Cell)
Workflow: [
           #{'Experiment': 'InitializeMicroscope', 'Repetitions': 1, 'Input': None, 'Output': {}},
           {'Experiment': 'ObjectiveOffsets', 'Repetitions': 1, 'Input': None, 'Output': {}}
           ]

RecoverySettingsFilePath: 'D:\Winfried\Production\GeneralSettings\RecoverySettings'
LogFilePath: 'D:\Winfried\Production\GeneralSettings\LogFiles'


PathExperiments: ['D:\Users\winfriedw.ALLENINST\Documents\Carl Zeiss\ZEN\Documents\Experiment Setups']

# Path to specifications for microscope hardware and software
PathMicroscopeSpecs: ['D:\Winfried\Production\GeneralSettings\microscopeSpecifications_ZSD2_test.yml']

# Path to daily folder
PathDailyFolder: ['D:\Winfried\Production\Daily\', '/Users/winfriedw/Documents/Documents - OSXLT4G8WM/Programming/Production/Daily']

# Path to calibration information
PathCalibration: ['D:\Winfried\Production\GeneralSettings\Calibration\', '/Users/winfriedw/Documents/Documents - OSXLT4G8WM/Programming/Production/GeneralSettings/Calibration/', '/home/mattb/git/microscopeautomation/GeneralSettings/Calibration/', '/home/shailjad/git/microscopeautomation/GeneralSettings/Calibration/']

# Sample Information in daily folder. Do not use '/' at end of directory.
# All paths are relative to daily folder
ColonyDirPath: &ColonyDirPathRef CeligoColonyData
ReferenceDirPath: References

# Information about meta data file and content
MetaDataPath: Metadata.csv
MetaDataFormat: csv

# Whether to show all dialog boxes or less depending on the user's skill level
LessDialog: False                                # Set "False": All diag boxes (default)   |   Set "True": Minimal diag boxes

# Settings to initialize microscope
InitializeMicroscope:
 FunctionName: initialize_microscope              # Name of function in Python code in module microscopeAutomation that will process this experiment
 Verbose: False                                   # print debug messages?
 NumberTrials: 3                                  # How often a user is given the chance to set up the system in a correct way
 SetupFolders: True                               # Setup image folder
 CopyColonyFile: False                            # Copy colony file
 ColonyFileFolder: ['\\allen\aics\microscopy\PRODUCTION\Summary\CeligoDailyScans', '../PlateSpecifications']   # Network folder with colony file
 ColonyDirPath: *ColonyDirPathRef
 AddColonies: False                               # add colony information from Hamilton to plate
 Hardware: True                                   # Initialize hardware
 Experiment: Setup_10x.czexp                      # Experiment setting in ZEN blue used for microscope initialization
 Camera: Camera1 (Back)
 UseAutoFocus: False                              # use autofocus instead of values based on calibration
 FindLoad: True                                   # Ask user to move objective in load position and save
 MaxLoadPosition: 50                              # Maximum focus position that will be accepted as load
 LaserSafety: True                                # Enable laser safety
 Koehler: True                                    # Set Koehler illumination
 StageID: Marzhauser                              # Name of stage used to set up Koehler illumination
 FocusID: MotorizedFocus                          # Name of focus drive used to set up Koehler illumination
 SaveAreaID: ZSD_02_plate                         # Name of save area used to avoid hardware collisions
 Well: E8                                         # Well used to set Koehler
 Load: False                                      # Go to load position when moving objective to Koehler well
 Wait:                                            # Wait for user input after imaging and before removing image from display (has no effect in this experiment module)
  Image: False                                      # Wait after each image
  Plate: False                                      # Reset wait status after each plate
  Repetition: False                                 # Reset wait status after each repetition
 Blocking: False                                  # open modal dialog in case of error (has no effect in this experiment module)

# Settings to setup objectives (find offset in x, y, and z between objectives
ObjectiveOffsets:
 FunctionName: set_objective_offset               # Name of function in Python code in module microscopeAutomation that will process this experiment
 Verbose: False                                   # print debug messages?
 NumberTrials: 3                                  # How often a user is given the chance to set up the system in a correct way
 UseAutoFocus: False
 Experiment: NoExperiment
 # ExperimentsList: ['Setup_20x','Setup_10x', 'Setup_100x']       # List with experiments used to determine offset (one experiment per objective in order as listed)
 ExperimentsList: ['Setup_20x', 'Setup_10x']       # List with experiments used to determine offset (one experiment per objective in order as listed)
 Wait:                                            # Wait for user input after imaging and before removing image from display (has no effect in this experiment module)
  Image: False                                      # Wait after each image
  Plate: False                                      # Reset wait status after each plate
  Repetition: False                                 # Reset wait status after each repetition
 Blocking: False                                  # open modal dialog in case of error (has no effect in this experiment module)
