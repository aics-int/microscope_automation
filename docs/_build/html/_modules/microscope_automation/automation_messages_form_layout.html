
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>microscope_automation.automation_messages_form_layout &#8212; Microscope Automation 0.0 documentation</title>
    <link rel="stylesheet" href="../../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/language_data.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
   
  <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <h1>Source code for microscope_automation.automation_messages_form_layout</h1><div class="highlight"><pre>
<span></span><span class="sd">&#39;&#39;&#39;</span>
<span class="sd">QDialog boxes and other messages for Microscope Automation package based on formlayout</span>
<span class="sd">https://pypi.python.org/pypi/formlayout</span>
<span class="sd">http://pythonhosted.org/formlayout/index.html#</span>
<span class="sd">https://github.com/PierreRaybaut/formlayout</span>
<span class="sd">http://pyqt.sourceforge.net/Docs/PyQt4/</span>
<span class="sd">https://wiki.qt.io/PySide</span>

<span class="sd">Requires PyQt4 or PyQt5, set installed API below</span>

<span class="sd">Created on Jun 23, 2016</span>

<span class="sd">@author: winfriedw</span>
<span class="sd">&#39;&#39;&#39;</span>

<span class="c1"># select PyQT5 as QT_API</span>
<span class="c1"># make sure QT5 is installed on system</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">sys</span>
<span class="kn">import</span> <span class="nn">getpass</span>
<span class="kn">import</span> <span class="nn">re</span>
<span class="kn">import</span> <span class="nn">time</span>

<span class="c1"># switch between different versions of PyQt depending on computer system</span>
<span class="k">try</span><span class="p">:</span>
    <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s1">&#39;QT_API&#39;</span><span class="p">]</span><span class="o">=</span><span class="s1">&#39;pyqt5&#39;</span>
    <span class="kn">from</span> <span class="nn">PyQt5</span> <span class="kn">import</span> <span class="n">QtGui</span>
<span class="k">except</span><span class="p">:</span>
    <span class="kn">from</span> <span class="nn">PyQt4</span> <span class="kn">import</span> <span class="n">QtGui</span>
    <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s1">&#39;QT_API&#39;</span><span class="p">]</span><span class="o">=</span><span class="s1">&#39;pyqt&#39;</span>
<span class="c1"># from PySide import QtGui</span>
<span class="kn">from</span> <span class="nn">formlayout</span> <span class="kn">import</span> <span class="n">fedit</span>
<span class="kn">from</span> <span class="nn">os</span> <span class="kn">import</span> <span class="n">listdir</span>
<span class="kn">import</span> <span class="nn">pandas</span>

<span class="c1"># create logger</span>
<span class="kn">import</span> <span class="nn">logging</span>
<span class="n">logger</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="s1">&#39;microscopeAutomation&#39;</span><span class="p">)</span>

<span class="c1"># get function to abort program</span>
<span class="c1"># from microscopeAutomation import stop_script</span>
<span class="c1"># TODO: fix circular imports, current implementation has stop_script in this file</span>


<div class="viewcode-block" id="read_string"><a class="viewcode-back" href="../../automation_messages_form_layout.html#microscope_automation.automation_messages_form_layout.read_string">[docs]</a><span class="k">def</span> <span class="nf">read_string</span><span class="p">(</span><span class="n">title</span><span class="p">,</span> <span class="n">label</span><span class="p">,</span> <span class="n">default</span><span class="p">,</span> <span class="n">returnCode</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Ask for user input and allows option to abort script.</span>

<span class="sd">    Input:</span>
<span class="sd">     title: Title of dialog box</span>
<span class="sd">     label: Text to display in front of sting input field</span>
<span class="sd">     default: default input</span>
<span class="sd">     returnCode: if True, will return after cancel with code 0, otherwise will call sys.exit()</span>

<span class="sd">    Return:</span>
<span class="sd">     0: User selected to abort script</span>
<span class="sd">     1: User pressed ok</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">datalist</span> <span class="o">=</span> <span class="p">[(</span><span class="n">label</span><span class="p">,</span> <span class="n">default</span><span class="p">),</span> <span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span> <span class="p">(</span><span class="kc">None</span><span class="p">,</span><span class="s2">&quot;Press ok when done.</span><span class="se">\n</span><span class="s2">Press cancel to abort script.&quot;</span> <span class="p">)]</span>
    <span class="n">result</span> <span class="o">=</span> <span class="n">fedit</span><span class="p">(</span><span class="n">datalist</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="n">title</span><span class="p">,</span>
                   <span class="n">comment</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">result</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">returnCode</span><span class="p">:</span>
            <span class="k">return</span> <span class="mi">0</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;User terminated program&#39;</span><span class="p">)</span>
            <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">()</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="n">result</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span></div>


<div class="viewcode-block" id="information_message"><a class="viewcode-back" href="../../automation_messages_form_layout.html#microscope_automation.automation_messages_form_layout.information_message">[docs]</a><span class="k">def</span> <span class="nf">information_message</span><span class="p">(</span><span class="n">title</span><span class="p">,</span> <span class="n">message</span><span class="p">,</span> <span class="n">returnCode</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Displays information to user and allows option to abort script.</span>

<span class="sd">    Input:</span>
<span class="sd">     title: Title of dialog box</span>
<span class="sd">     message: Message that will be displayed</span>
<span class="sd">     returnCode: if True, will return after cancel with code 0, otherwise will call sys.exit()</span>

<span class="sd">    Return:</span>
<span class="sd">     0: User selected to abort script</span>
<span class="sd">     1: User pressed ok</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">datalist</span> <span class="o">=</span> <span class="p">[(</span><span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span>
                <span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="s2">&quot;Press OK when ready.</span><span class="se">\n</span><span class="s2">Press cancel to abort script.&quot;</span><span class="p">)</span>
                <span class="p">]</span>
    <span class="n">result</span> <span class="o">=</span> <span class="n">fedit</span><span class="p">(</span><span class="n">datalist</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="n">title</span><span class="p">,</span>
                   <span class="n">comment</span><span class="o">=</span><span class="n">message</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">result</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">returnCode</span><span class="p">:</span>
            <span class="k">return</span> <span class="mi">0</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;User terminated program&#39;</span><span class="p">)</span>
            <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">()</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="mi">1</span></div>


<div class="viewcode-block" id="setup_message"><a class="viewcode-back" href="../../automation_messages_form_layout.html#microscope_automation.automation_messages_form_layout.setup_message">[docs]</a><span class="k">def</span> <span class="nf">setup_message</span><span class="p">(</span><span class="n">message</span><span class="p">,</span> <span class="n">returnCode</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Displays information about setup error and allows option to abort script.</span>

<span class="sd">    Input:</span>
<span class="sd">     message: Message that will be displayed</span>
<span class="sd">     returnCode: if True, will return after cancel with code 0, otherwise will call sys.exit()</span>

<span class="sd">    Return:</span>
<span class="sd">     0: User selected to abort script</span>
<span class="sd">     1: User pressed ok</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">datalist</span> <span class="o">=</span> <span class="p">[(</span><span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span>
                <span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="s2">&quot;Press ok when done.</span><span class="se">\n</span><span class="s2">Press cancel to abort script.&quot;</span><span class="p">)</span>
                <span class="p">]</span>
    <span class="n">result</span> <span class="o">=</span> <span class="n">fedit</span><span class="p">(</span><span class="n">datalist</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Error in setup detected&quot;</span><span class="p">,</span>
                    <span class="n">comment</span><span class="o">=</span><span class="n">message</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">result</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">returnCode</span><span class="p">:</span>
            <span class="k">return</span> <span class="mi">0</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;User terminated program&#39;</span><span class="p">)</span>
            <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">()</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="mi">1</span></div>


<div class="viewcode-block" id="operate_message"><a class="viewcode-back" href="../../automation_messages_form_layout.html#microscope_automation.automation_messages_form_layout.operate_message">[docs]</a><span class="k">def</span> <span class="nf">operate_message</span><span class="p">(</span><span class="n">message</span><span class="p">,</span> <span class="n">returnCode</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Ask user to operate microscope manually and allows option to abort script.</span>

<span class="sd">    Input:</span>
<span class="sd">     message: Message that will be displayed</span>
<span class="sd">     returnCode: if True, will return after cancel with code 0, otherwise will call sys.exit()</span>

<span class="sd">    Return:</span>
<span class="sd">     0: User selected to abort script</span>
<span class="sd">     1: User pressed ok</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">datalist</span> <span class="o">=</span> <span class="p">[(</span><span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span>
                <span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="s2">&quot;Press ok when done.</span><span class="se">\n</span><span class="s2">Press cancel to abort script.&quot;</span><span class="p">)</span>
                <span class="p">]</span>
    <span class="n">result</span> <span class="o">=</span> <span class="n">fedit</span><span class="p">(</span><span class="n">datalist</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Please operate microscope&quot;</span><span class="p">,</span>
                   <span class="n">comment</span><span class="o">=</span><span class="n">message</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">result</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">returnCode</span><span class="p">:</span>
            <span class="k">return</span> <span class="mi">0</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;User terminated program&#39;</span><span class="p">)</span>
            <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">()</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="mi">1</span></div>


<div class="viewcode-block" id="check_box_message"><a class="viewcode-back" href="../../automation_messages_form_layout.html#microscope_automation.automation_messages_form_layout.check_box_message">[docs]</a><span class="k">def</span> <span class="nf">check_box_message</span><span class="p">(</span><span class="n">message</span><span class="p">,</span> <span class="n">checkBoxList</span><span class="p">,</span> <span class="n">returnCode</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Ask user to operate microscope manually and allows option to abort script.</span>

<span class="sd">    Input:</span>
<span class="sd">     message: Message that will be displayed</span>
<span class="sd">     checkBoxList: list with check box names and settings in form [(&#39;Choice 1&#39;, True), (&#39;Choice 2&#39;, False)</span>
<span class="sd">     returnCode: if True, will return after cancel with code 0, otherwise will call sys.exit()</span>

<span class="sd">    Return:</span>
<span class="sd">     0: User selected to abort script</span>
<span class="sd">     newCheckBoxList: User pressed ok result is updated checkBoxList</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">datalist</span> <span class="o">=</span> <span class="n">checkBoxList</span> <span class="o">+</span> <span class="p">[(</span><span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span> <span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="s1">&#39;&#39;&#39;Press ok when done. </span><span class="se">\n</span><span class="s1">Press cancel to abort.&#39;&#39;&#39;</span><span class="p">)]</span>
    <span class="c1">#datalist = [(None, None),</span>
    <span class="c1">#            (None, &#39;&#39;&#39;Press ok when done. \nPress cancel to abort.&#39;&#39;&#39;)</span>
    <span class="c1">#            ] + checkBoxList</span>

    <span class="n">result</span> <span class="o">=</span> <span class="n">fedit</span><span class="p">(</span><span class="n">datalist</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Please select&quot;</span><span class="p">,</span>
                   <span class="n">comment</span><span class="o">=</span><span class="n">message</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">result</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">returnCode</span><span class="p">:</span>
            <span class="k">return</span> <span class="mi">0</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;User terminated program&#39;</span><span class="p">)</span>
            <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">()</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">boxLabels</span> <span class="o">=</span> <span class="p">[</span><span class="n">box</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">box</span> <span class="ow">in</span> <span class="n">checkBoxList</span><span class="p">]</span>
        <span class="n">newCheckBoxList</span> <span class="o">=</span> <span class="nb">zip</span><span class="p">(</span><span class="n">boxLabels</span><span class="p">,</span> <span class="n">result</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">newCheckBoxList</span></div>


<div class="viewcode-block" id="error_message"><a class="viewcode-back" href="../../automation_messages_form_layout.html#microscope_automation.automation_messages_form_layout.error_message">[docs]</a><span class="k">def</span> <span class="nf">error_message</span><span class="p">(</span><span class="n">message</span><span class="p">,</span> <span class="n">returnCode</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">blocking</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Show error message and allows option to abort script.</span>

<span class="sd">    Input:</span>
<span class="sd">     message: Message that will be displayed</span>
<span class="sd">     returnCode: if True, will return after cancel with code 0, otherwise will call sys.exit()</span>
<span class="sd">     blocking: if True use modal dialog for error reporting, otherwise print(message)</span>

<span class="sd">    Return:</span>
<span class="sd">     0: User selected to abort script</span>
<span class="sd">     1: User pressed ok</span>
<span class="sd">     -1: User pressed ok and selected &#39;Ignore&#39;</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">blocking</span> <span class="ow">is</span> <span class="kc">False</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">message</span><span class="p">)</span>
        <span class="k">return</span> <span class="mi">1</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">datalist</span> <span class="o">=</span> <span class="p">[(</span><span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span>
                    <span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="s1">&#39;&#39;&#39;Please perform the action.</span><span class="se">\n</span><span class="s1">Press ok when done.</span><span class="se">\n</span><span class="s1">Press cancel to abort.&#39;&#39;&#39;</span><span class="p">),</span>
                    <span class="p">(</span><span class="s1">&#39;Ignore&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
                    <span class="p">]</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">fedit</span><span class="p">(</span><span class="n">datalist</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Error&quot;</span><span class="p">,</span>
                       <span class="n">comment</span><span class="o">=</span><span class="n">message</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">result</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">result</span><span class="p">[</span><span class="mi">0</span><span class="p">]:</span>
                <span class="k">return</span> <span class="o">-</span><span class="mi">1</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">return</span> <span class="mi">1</span>
        <span class="k">if</span> <span class="n">result</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">returnCode</span><span class="p">:</span>
                <span class="k">return</span> <span class="mi">0</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;User terminated program&#39;</span><span class="p">)</span>
                <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="mi">1</span></div>


<div class="viewcode-block" id="wait_message"><a class="viewcode-back" href="../../automation_messages_form_layout.html#microscope_automation.automation_messages_form_layout.wait_message">[docs]</a><span class="k">def</span> <span class="nf">wait_message</span><span class="p">(</span><span class="n">message</span><span class="p">,</span> <span class="n">returnCode</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Interrupt script and wait for user to continue.</span>

<span class="sd">    Input:</span>
<span class="sd">     message: Message that will be displayed</span>
<span class="sd">     returnCode: if True, will return after cancel with code 0, otherwise will call sys.exit()</span>

<span class="sd">    Return:</span>
<span class="sd">     0: User selected to abort script</span>
<span class="sd">     True: User pressed ok and want&#39;s to continue to wait after each image</span>
<span class="sd">     False: User pressed ok and want&#39;s to cancel wait times</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">datalist</span> <span class="o">=</span> <span class="p">[(</span><span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span>
                <span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="s1">&#39;&#39;&#39;Please perform the action.</span><span class="se">\n</span><span class="s1">Press ok when done.</span><span class="se">\n</span><span class="s1">Press cancel to abort.&#39;&#39;&#39;</span><span class="p">),</span>
                <span class="p">(</span><span class="s1">&#39;Continue to wait after next image&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
                <span class="p">]</span>
    <span class="n">result</span> <span class="o">=</span> <span class="n">fedit</span><span class="p">(</span><span class="n">datalist</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Continue?&quot;</span><span class="p">,</span>
                   <span class="n">comment</span><span class="o">=</span><span class="n">message</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">result</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">returnCode</span><span class="p">:</span>
            <span class="k">return</span> <span class="mi">0</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;User terminated program&#39;</span><span class="p">)</span>
            <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">()</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">result</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span></div>


<div class="viewcode-block" id="select_message"><a class="viewcode-back" href="../../automation_messages_form_layout.html#microscope_automation.automation_messages_form_layout.select_message">[docs]</a><span class="k">def</span> <span class="nf">select_message</span><span class="p">(</span><span class="n">message</span><span class="p">,</span> <span class="n">count</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">returnCode</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Interrupt script and wait for user to continue.</span>

<span class="sd">    Input:</span>
<span class="sd">     message: Message that will be displayed</span>
<span class="sd">     count: number of collected positions</span>
<span class="sd">     returnCode: if True, will return after cancel with code 0, otherwise will call sys.exit()</span>

<span class="sd">    Return:</span>
<span class="sd">     0: User selected to abort script</span>
<span class="sd">     resultDict: dictionary of form {&#39;Include&#39;: True/False, &#39;Continue&#39;: True/False}</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">datalist</span> <span class="o">=</span> <span class="p">[(</span><span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span>
                <span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="s1">&#39;&#39;&#39;Please perform action(s) below.</span><span class="se">\n</span><span class="s1">Press ok when done.</span><span class="se">\n</span><span class="s1">Press cancel to abort.&#39;&#39;&#39;</span><span class="p">),</span>
                <span class="p">(</span><span class="s1">&#39;Include position in data acquisition.&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">),</span>
                <span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span>
                <span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="s1">&#39;Number of collected positions: </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">count</span><span class="p">)),</span>
                <span class="p">(</span><span class="s1">&#39;Continue collecting positions.&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
                <span class="p">]</span>
    <span class="n">result</span> <span class="o">=</span> <span class="n">fedit</span><span class="p">(</span><span class="n">datalist</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Select&quot;</span><span class="p">,</span>
                   <span class="n">comment</span><span class="o">=</span><span class="n">message</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">result</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">returnCode</span><span class="p">:</span>
            <span class="k">return</span> <span class="mi">0</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;User terminated program&#39;</span><span class="p">)</span>
            <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">()</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">resultDict</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;Include&#39;</span><span class="p">:</span> <span class="n">result</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="s1">&#39;Continue&#39;</span><span class="p">:</span> <span class="n">result</span><span class="p">[</span><span class="mi">1</span><span class="p">]}</span>
        <span class="k">return</span> <span class="n">resultDict</span></div>


<div class="viewcode-block" id="file_select_dialog"><a class="viewcode-back" href="../../automation_messages_form_layout.html#microscope_automation.automation_messages_form_layout.file_select_dialog">[docs]</a><span class="k">def</span> <span class="nf">file_select_dialog</span><span class="p">(</span><span class="n">directory</span><span class="p">,</span> <span class="n">filePattern</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">comment</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">returnCode</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;List all files in directory and select one.</span>

<span class="sd">    Input:</span>
<span class="sd">     directory: path to directory with files</span>
<span class="sd">     filePattern: string with regular expression. If file matches expression it will be pre-selected.</span>
<span class="sd">     returnCode: if True, will return after cancel with code 0, otherwise will call sys.exit()</span>

<span class="sd">    Output:</span>
<span class="sd">     filePath: path to selected file</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># load all file names in directory dirPaht + date</span>
    <span class="c1"># check if directory exists</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isdir</span><span class="p">(</span><span class="n">directory</span><span class="p">):</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s1">&#39;Directory for .csv file with colony coordinates does not exist&#39;</span><span class="p">)</span>
    <span class="n">allFiles</span> <span class="o">=</span> <span class="n">pandas</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">listdir</span><span class="p">(</span><span class="n">directory</span><span class="p">))</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="c1"># find all filenames that match</span>
        <span class="n">colFileLocSeries</span> <span class="o">=</span> <span class="p">[</span><span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="n">filePattern</span><span class="p">,</span> <span class="n">singleFile</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">for</span> <span class="n">singleFile</span> <span class="ow">in</span> <span class="n">allFiles</span><span class="p">]</span>
        <span class="n">colFileLocIndex</span> <span class="o">=</span> <span class="p">[</span><span class="nb">int</span><span class="p">(</span><span class="n">allFiles</span><span class="p">[</span><span class="n">colFileLocSeries</span><span class="p">]</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">tolist</span><span class="p">()[</span><span class="mi">0</span><span class="p">])]</span>
        <span class="n">allFiles</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">allFiles</span><span class="p">)</span>
    <span class="k">except</span><span class="p">:</span>
        <span class="n">colFileLocIndex</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">allFiles</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="nb">list</span><span class="p">(</span><span class="n">allFiles</span><span class="p">)</span>
    <span class="n">allFiles</span><span class="o">.</span><span class="n">sort</span><span class="p">()</span>
    <span class="n">datalist</span> <span class="o">=</span> <span class="p">[(</span><span class="s1">&#39;Files:&#39;</span><span class="p">,</span> <span class="n">colFileLocIndex</span> <span class="o">+</span> <span class="n">allFiles</span><span class="p">)]</span>
    <span class="n">result</span> <span class="o">=</span> <span class="n">fedit</span><span class="p">(</span><span class="n">datalist</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Select file?&quot;</span><span class="p">,</span>
                   <span class="n">comment</span><span class="o">=</span><span class="n">comment</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">result</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">returnCode</span><span class="p">:</span>
            <span class="k">return</span> <span class="mi">0</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;User terminated program&#39;</span><span class="p">)</span>
            <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">allFiles</span><span class="p">[</span><span class="n">result</span><span class="p">[</span><span class="mi">0</span><span class="p">]]</span></div>


<div class="viewcode-block" id="pull_down_select_dialog"><a class="viewcode-back" href="../../automation_messages_form_layout.html#microscope_automation.automation_messages_form_layout.pull_down_select_dialog">[docs]</a><span class="k">def</span> <span class="nf">pull_down_select_dialog</span><span class="p">(</span><span class="n">itemList</span><span class="p">,</span> <span class="n">message</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Show all items from itemList in pulldown menu and allow user to select one item.</span>

<span class="sd">    Input:</span>
<span class="sd">     itemList: list of strings to display in pull down menu</span>
<span class="sd">     message: string with instructions to user</span>

<span class="sd">    Output:</span>
<span class="sd">     selectedItem: item selected by user</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># create content of pull down menu</span>
    <span class="n">datalist</span> <span class="o">=</span> <span class="p">[(</span><span class="s1">&#39;Selection:&#39;</span><span class="p">,</span> <span class="p">([</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="p">[</span><span class="nb">str</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">itemList</span><span class="p">]))]</span>

    <span class="c1"># display dialog bos</span>
    <span class="n">result</span> <span class="o">=</span> <span class="n">fedit</span><span class="p">(</span><span class="n">datalist</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Selection&quot;</span><span class="p">,</span>
                 <span class="n">comment</span><span class="o">=</span><span class="n">message</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">result</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">stop_script</span><span class="p">()</span>
    <span class="n">selectedItem</span> <span class="o">=</span> <span class="n">itemList</span><span class="p">[</span><span class="n">result</span><span class="p">[</span><span class="mi">0</span><span class="p">]]</span>
    <span class="k">return</span> <span class="n">selectedItem</span></div>


<div class="viewcode-block" id="value_calibration_form"><a class="viewcode-back" href="../../automation_messages_form_layout.html#microscope_automation.automation_messages_form_layout.value_calibration_form">[docs]</a><span class="k">def</span> <span class="nf">value_calibration_form</span><span class="p">(</span><span class="n">title</span><span class="p">,</span> <span class="n">comment</span><span class="p">,</span> <span class="n">default</span><span class="p">,</span> <span class="o">*</span><span class="n">form_fields</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Attribute selection dialog for value calibration</span>
<span class="sd">    Last result value will always be True or False for whether the value(s) were acceptable</span>

<span class="sd">    Input:</span>
<span class="sd">     title: title for the form</span>

<span class="sd">     comment: comment for the form</span>

<span class="sd">     form_fields: variable length argument list for all fields to be changed</span>

<span class="sd">    Output:</span>
<span class="sd">     result: contents of the calibration form</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">data_list</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">form_fields</span><span class="p">)</span> <span class="o">+</span> <span class="p">[(</span><span class="s1">&#39;Correct?&#39;</span><span class="p">,</span> <span class="n">default</span><span class="p">)]</span>
    <span class="n">result</span> <span class="o">=</span> <span class="n">fedit</span><span class="p">(</span><span class="n">data_list</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="n">title</span><span class="p">,</span> <span class="n">comment</span><span class="o">=</span><span class="n">comment</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">result</span></div>


<div class="viewcode-block" id="stop_script"><a class="viewcode-back" href="../../automation_messages_form_layout.html#microscope_automation.automation_messages_form_layout.stop_script">[docs]</a><span class="k">def</span> <span class="nf">stop_script</span><span class="p">(</span><span class="n">messageText</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">allowContinue</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Stop processing and ask to leave automation script.</span>

<span class="sd">    Input:</span>
<span class="sd">     messageText: Message to user explaining why processing should be stopped.</span>
<span class="sd">     allowContinue: if True, allow user to continue. Default: False</span>

<span class="sd">    Script will stop all Microscope action immediately and ask user to stop execution of script or to continue.</span>
<span class="sd">    Returns if user selects &#39;Continue&#39;, otherwise calls sys.exit()</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1">#     Microscope.stop_microscope()</span>
    <span class="k">if</span> <span class="n">allowContinue</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">messageText</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">messageText</span> <span class="o">=</span> <span class="s1">&#39;If you want to abort script press ok.</span><span class="se">\n</span><span class="s1">otherwise Continue&#39;</span>
        <span class="n">con</span> <span class="o">=</span> <span class="n">information_message</span><span class="p">(</span><span class="s1">&#39;Exit script&#39;</span><span class="p">,</span> <span class="n">messageText</span><span class="p">,</span> <span class="n">returnCode</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">messageText</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">messageText</span> <span class="o">=</span> <span class="s1">&#39;Exit&#39;</span>
        <span class="n">con</span> <span class="o">=</span> <span class="n">information_message</span><span class="p">(</span><span class="s1">&#39;Exit script&#39;</span><span class="p">,</span> <span class="n">messageText</span><span class="p">,</span> <span class="n">returnCode</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
        <span class="n">con</span> <span class="o">=</span> <span class="mi">0</span>

    <span class="k">if</span> <span class="n">con</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="c1"># logger.info(&#39;User aborted operation&#39;)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Operation Aborted&#39;</span><span class="p">)</span>
        <span class="c1"># cleanup after image displaying</span>
        <span class="n">os</span><span class="o">.</span><span class="n">_exit</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span></div>


<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
    <span class="kn">from</span> <span class="nn">interactive_location_picker_pyqtgraph</span> <span class="kn">import</span> <span class="n">ImageLocationPicker</span>
    <span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
    <span class="kn">import</span> <span class="nn">pyqtgraph</span>
    <span class="c1"># test functions to show messages</span>
<span class="c1">#     if getpass.getuser() == &#39;mattb&#39;:</span>
<span class="c1">#         direc = &quot;C:/Users/matthewbo/Git/microscopeautomation/data/test_data_matthew/2017_2_2/PlateSpecifications&quot;</span>
<span class="c1">#         print(value_calibration_form(&quot;Sample title&quot;, &quot;Fill this form out please&quot;, (&#39;Float Value&#39;, 0.5),)</span>
<span class="c1">#                                      (&#39;Another float&#39;, 12.))</span>
<span class="c1">#         exit()</span>
<span class="c1">#     else:</span>
<span class="c1">#         direc = &#39;D:\\Winfried\\Production\\Daily\\2018_10_10\\&#39;</span>
<span class="c1">#</span>

    <span class="n">image</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="mi">50</span><span class="p">,</span> <span class="mi">50</span><span class="p">))</span>
    <span class="n">app</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QApplication</span><span class="p">([])</span>
    <span class="n">raw_input</span><span class="p">(</span><span class="s1">&#39;Continue&#39;</span><span class="p">)</span>
    <span class="n">ImageLocationPicker</span><span class="p">(</span><span class="n">image</span><span class="p">,</span> <span class="n">app</span> <span class="o">=</span> <span class="n">app</span><span class="p">)</span><span class="o">.</span><span class="n">plot_points</span><span class="p">(</span><span class="s1">&#39;Test&#39;</span><span class="p">)</span>
    <span class="n">raw_input</span><span class="p">(</span><span class="s1">&#39;Continue&#39;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">error_message</span><span class="p">(</span><span class="s1">&#39;Test error message&#39;</span><span class="p">))</span>
    <span class="n">pyqtgraph</span><span class="o">.</span><span class="n">exit</span><span class="p">()</span>
<span class="c1">#     checkBoxList =[(&#39;InitializeMicroscope&#39;, True),</span>
<span class="c1">#            (&#39;AddColonies&#39;, True),</span>
<span class="c1">#            (&#39;UpdatePlateWellZero&#39;, True),</span>
<span class="c1">#            (&#39;ImageBarcode&#39;, True),</span>
<span class="c1">#            (&#39;CalibrateWellDistance&#39;, True),</span>
<span class="c1">#            (&#39;CalibrateWellDiameter&#39;, True),</span>
<span class="c1">#            (&#39;SetupImmersionSystem&#39;, True),</span>
<span class="c1">#            (&#39;ScanWellsZero&#39;, True),</span>
<span class="c1">#            (&#39;ScanBackground&#39;, True),</span>
<span class="c1">#            (&#39;ScanPlate&#39;, True),</span>
<span class="c1">#            (&#39;PreScanColonies&#39;, True),</span>
<span class="c1">#            (&#39;ScanColonies&#39;, True),</span>
<span class="c1">#            (&#39;PreScanCells&#39;, True),</span>
<span class="c1">#            (&#39;ScanCells&#39;, True)]</span>
<span class="c1">#     print(check_box_message(&#39;Select experiments to run&#39;, checkBoxList, returnCode = False))</span>
<span class="c1">#     barcodeList = [&#39;123&#39;, &#39;456&#39;, &#39;789&#39;]</span>
<span class="c1">#     print(pull_down_select_dialog(barcodeList, &#39;Please select barcode for plate on microscope.&#39;))</span>
<span class="c1">#     print(file_select_dialog(directory = direc, filePattern = &#39;PipelineData_.*&#39;))</span>
<span class="c1">#     print(file_select_dialog(directory = direc, filePattern = None))</span>
<span class="c1">#     print(information_message(&#39;Testing&#39;, &#39;This is an information&#39;))</span>
<span class="c1">#     print(setup_message(&#39;This is a setup message&#39;))</span>
<span class="c1">#     print(operate_message(&#39;This is an operate message&#39;))</span>
<span class="c1">#     print(read_string(&#39;Read_string message&#39;, &#39;Label&#39;, &#39;default input&#39;))</span>
<span class="c1">#     print(wait_message(&#39;Continue?&#39;))</span>
<span class="c1">#     print(select_message(&#39;Uncheck below if you do not want to include this position?&#39;))</span>
</pre></div>

          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../../index.html">Microscope Automation</a></h1>








<h3>Navigation</h3>
<p class="caption"><span class="caption-text">Overview</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../index.html">README</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../installation.html">Installation</a></li>
</ul>
<p class="caption"><span class="caption-text">Hardware</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../hardware_components.html">hardware_components</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../hardware_control.html">hardware_control</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../image_AICS.html">image_AICS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../load_image_czi.html">load_image_czi</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../preferences.html">preferences</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../setup_microscope.html">setup_microscope</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../RS232.html">RS232</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../samples.html">samples</a></li>
</ul>
<p class="caption"><span class="caption-text">Zeiss Microscopes</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../hardware_control_zeiss.html">hardware_control_zeiss</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../connect_zen_blue.html">connect_zen_blue</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../connect_zen_black.html">connect_zen_black</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../zen_experiment_info.html">zen_experiment_info</a></li>
</ul>
<p class="caption"><span class="caption-text">3i Microscopes</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../hardware_control_3i.html">hardware_control_3i</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../connect_slidebook.html">connect_slidebook</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../slidebook_experiment_info.html">slidebook_experiment_info</a></li>
</ul>
<p class="caption"><span class="caption-text">General Methods</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../get_path.html">get_path</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../automation_exceptions.html">automation_exceptions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../automation_messages_form_layout.html">automation_messages_form_layout</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../error_handling.html">error_handling</a></li>
</ul>
<p class="caption"><span class="caption-text">Reference Docs</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../CONTRIBUTING.html">Allen Institute Contribution Agreement</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../LICENSE.html">LICENSE</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../../index.html">Documentation overview</a><ul>
  <li><a href="../index.html">Module code</a><ul>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2020, Allen Institute.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.8.5</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
    </div>

    

    
  </body>
</html>